{% extends "layouts/base.html" %}
{% load static %}

{% block title %}Inventario{% endblock title %}

{% block content %}

  <div class="pc-container">
    <div class="pc-content">
      <!-- [ breadcrumb ] start -->
      <div class="page-header">
        <div class="page-block">
          <div class="row align-items-center">
            <div class="col-md-12">
              <div class="page-header-title">
                <h5 class="mb-0">Home</h5>
              </div>
            </div>
            <div class="col-md-12">
              <ul class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="{% url "index" %}">Home</a></li>
                <li class="breadcrumb-item"><a href="javascript: void(0)">Inventario</a></li>
                <!-- <li class="breadcrumb-item" aria-current="page">Home</li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>
    <!------[tablas productos]-->
    <!-- Botón para abrir el modal -->
<button type="button" class="btn btn-success mb-3" data-bs-toggle="modal" data-bs-target="#registroModal">
  Registrar nuevo producto
</button>

      <table class="table table-striped table-hover">
  <thead class="table-primary">
    <tr>
      <tr>
        <th>#</th>
        <th>Nombre</th>
        <th>Categoría</th>
        <th>Precio</th>
        <th>Stock</th>
      </tr>
    </tr>
  </thead>
   <tbody>
      {% for producto in productos %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ producto.nombre }}</td>
        <td>{{ producto.categoria }}</td>
        <td>${{ producto.precio }}</td>
        <td>{{ producto.stock }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="5">No hay productos registrados.</td></tr>
      {% endfor %}
    </tbody>
</table>

<!--modal-->
<!-- Modal -->
<div class="modal fade" id="registroModal" tabindex="-1" aria-labelledby="registroModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      
      <!-- Encabezado -->
      <div class="modal-header">
        <h5 class="modal-title" id="registroModalLabel">Registrar Producto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      
      <!-- Cuerpo con formulario -->
      <div class="modal-body">
        <form id="formularioProducto">
          <div class="mb-3">
            <label for="nombreProducto" class="form-label">Nombre del producto</label>
            <input type="text" class="form-control" id="nombreProducto" required>
          </div>
          <div class="mb-3">
            <label for="categoriaProducto" class="form-label">Categoría</label>
            <input type="text" class="form-control" id="categoriaProducto" required>
          </div>
          <div class="mb-3">
            <label for="precioProducto" class="form-label">Precio</label>
            <input type="number" class="form-control" id="precioProducto" required>
          </div>
          <div class="mb-3">
            <label for="stockProducto" class="form-label">Stock</label>
            <input type="number" class="form-control" id="stockProducto" required>
          </div>
        </form>
      </div>
      
      <!-- Pie con botones -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" form="formularioProducto" class="btn btn-primary">Guardar</button>
      </div>
      
    </div>
  </div>
</div>
          <!-- [ Main Content ] end -->
    </div>
  </div>

{% endblock content %}

{% block extra_js %}

<script src="{% static "assets/js/plugins/apexcharts.min.js" %}"></script>
<script src="{% static "assets/js/plugins/jsvectormap.min.js" %}"></script>
<script src="{% static "assets/js/plugins/world.js" %}"></script>
<script src="{% static "assets/js/pages/dashboard-default.js" %}"></script>

{% endblock extra_js %}